var ScriptInAutoResource=function(){"use strict";function t(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}return class{constructor(t){Object.assign(this,t),this.dependencies=["IsLoading"]}init(){this.loadResources()}loadResources(){var e,r=this;return(e=function*(){var t=Object.values(document.querySelectorAll("[data-scriptin]"));for(var e in t){var n=t[e];try{r.loadElement(n)}catch(t){console.error(t)}}},function(){var r=this,n=arguments;return new Promise((function(o,i){var a=e.apply(r,n);function s(e){t(a,o,i,s,c,"next",e)}function c(e){t(a,o,i,s,c,"throw",e)}s(void 0)}))})()}loadElement(t){var e=this;this.isSupportedTag(t);var r=t.dataset;if(!r.scriptinLoading){var n=r.scriptin;t.setAttribute("data-scriptin-loading","true");var o={url:n};for(var i in r)"scriptin"!=i&&(o[i]=r[i]||!0);if(o.returnType=o.returnType||"dataURI","dataURI"!==o.returnType)throw'Remove [data-return-type] or set it to "dataURI" from: '+this.printEl(t);this.Scriptin.events.on(n,(function(r){var n,o;n=r.content.data,(null!=(o=Blob)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](n):n instanceof o)?e.options.debug&&console.error("Unexpected Blob Data Format. "):(this.el.setAttribute("src",r.content.data),t.classList.remove("scriptin-loading"),t.removeAttribute("data-scriptin-loading"),e.hideLoader&&"function"==typeof e.hideLoader&&e.hideLoader(t))}),{el:t}),t.classList.add("scriptin-loading"),this.showLoader&&"function"==typeof this.showLoader&&this.showLoader(t),this.Scriptin.load(o)}}printEl(t){console.log("object");var e=document.createElement("div");return e.appendChild(t),e.innerHTML}isSupportedTag(t){var e=t.tagName.toLowerCase(),r=["img","audio","video"];if(r.indexOf(e)>-1)return!0;throw"<"+t.tagName.toLowerCase()+"> elements not a supported. Use one of "+r.map((function(t){return"<"+t+">"})).join(", ")}}}();
//# sourceMappingURL=AutoResource.js.map
