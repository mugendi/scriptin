{"version":3,"file":"Details.js","sources":["../../src/lib/utils/general.js","../../node_modules/pretty-bytes/index.js","../../src/plugins/Details.js"],"sourcesContent":["/**\n * Copyright (c) 2023 Anthony Mugendi\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n'use strict';\n\nexport function arrify(v) {\n  if (v === undefined) return [];\n  return Array.isArray(v) ? v : [v];\n}\n\nexport function toDataURI(content) {\n  // ony work with blobs\n  if (content instanceof Blob == false) return Promise.resolve(content);\n\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    reader.onloadend = function () {\n      resolve(reader.result);\n    };\n    reader.readAsDataURL(content);\n  });\n}\n\nexport function injectScript(script) {\n  var tagEl;\n\n  // https://sourcemaps.info/spec.html\n  var sourceURL = `//# sourceURL=${script.url};`;\n  var content = script.content.data;\n\n  var headEl =\n    document.querySelector('head') ||\n    document.querySelector('body') ||\n    document.querySelector('html');\n\n\n  if (script.content.type == 'javascript') {\n    tagEl = document.createElement('script');\n    tagEl.setAttribute('type', 'text/javascript');\n    // add source url\n    content += `\\n${sourceURL}`;\n  } else if (script.content.type == 'css') {\n    tagEl = document.createElement('style');\n    tagEl.setAttribute('type', 'text/css');\n    tagEl.setAttribute('rel', 'stylesheet');\n    // add source url\n    content += `\\n/* ${sourceURL} */`;\n  }\n\n  tagEl.setAttribute('data-url', script.url);\n  tagEl.textContent = content;\n\n  headEl.appendChild(tagEl);\n\n  // return\n  return tagEl;\n}\n\n\nexport function delay (time=1000) {\n   return new Promise((resolve) => setTimeout(resolve, time));\n}\n\nexport function hash(s) {\n  s = String(s);\n  var h = 0,\n    l = s.length,\n    i = 0;\n  if (l > 0) while (i < l) h = ((h << 5) - h + s.charCodeAt(i++)) | 0;\n  return 'h' + String(h).replace('-', 'Z');\n}\n\nexport function merge(target, source) {\n  // Iterate through `source` properties and if an `Object` set property to merge of `target` and `source` properties\n  for (var key of Object.keys(source)) {\n    if (source[key] instanceof Object)\n      Object.assign(source[key], merge(target[key] || {}, source[key]));\n  }\n\n  // Join `target` and modified `source`\n  Object.assign(target || {}, source);\n  return target;\n}\n\n\nexport function getHost() {\n  // obtain plugin path from the script element\n  var src;\n  var path = '/scriptin.js';\n\n  if (document.currentScript) {\n    src = document.currentScript.src;\n  } else {\n    var sel = document.querySelector('script[src$=\"'+path+'\"]')\n    if (sel) {\n      src = sel.src;\n    }\n  }\n\n\n  return src.replace(path,'');\n}\n\n\nexport function isClass(val) {\n  if(!val) return false\n  var propertyNames = Object.getOwnPropertyNames(val);\n  return propertyNames.includes('prototype') && !propertyNames.includes('arguments');\n}\n\nexport function isFunction(val) {\n  return typeof val === 'function' && !isClass(val);\n}\n\nexport function isAbsoluteURL(url){\n  return /^(?:[a-z+]+:)?\\/\\//.test(url)\n}\n\nexport function titleCase(str) {\n  str = str.toLowerCase().split(' ');\n  for (var i = 0; i < str.length; i++) {\n    str[i] = str[i].charAt(0).toUpperCase() + str[i].slice(1); \n  }\n  return str.join(' ');\n}","const BYTE_UNITS = [\n\t'B',\n\t'kB',\n\t'MB',\n\t'GB',\n\t'TB',\n\t'PB',\n\t'EB',\n\t'ZB',\n\t'YB',\n];\n\nconst BIBYTE_UNITS = [\n\t'B',\n\t'KiB',\n\t'MiB',\n\t'GiB',\n\t'TiB',\n\t'PiB',\n\t'EiB',\n\t'ZiB',\n\t'YiB',\n];\n\nconst BIT_UNITS = [\n\t'b',\n\t'kbit',\n\t'Mbit',\n\t'Gbit',\n\t'Tbit',\n\t'Pbit',\n\t'Ebit',\n\t'Zbit',\n\t'Ybit',\n];\n\nconst BIBIT_UNITS = [\n\t'b',\n\t'kibit',\n\t'Mibit',\n\t'Gibit',\n\t'Tibit',\n\t'Pibit',\n\t'Eibit',\n\t'Zibit',\n\t'Yibit',\n];\n\n/*\nFormats the given number using `Number#toLocaleString`.\n- If locale is a string, the value is expected to be a locale-key (for example: `de`).\n- If locale is true, the system default locale is used for translation.\n- If no value for locale is specified, the number is returned unmodified.\n*/\nconst toLocaleString = (number, locale, options) => {\n\tlet result = number;\n\tif (typeof locale === 'string' || Array.isArray(locale)) {\n\t\tresult = number.toLocaleString(locale, options);\n\t} else if (locale === true || options !== undefined) {\n\t\tresult = number.toLocaleString(undefined, options);\n\t}\n\n\treturn result;\n};\n\nexport default function prettyBytes(number, options) {\n\tif (!Number.isFinite(number)) {\n\t\tthrow new TypeError(`Expected a finite number, got ${typeof number}: ${number}`);\n\t}\n\n\toptions = {\n\t\tbits: false,\n\t\tbinary: false,\n\t\tspace: true,\n\t\t...options,\n\t};\n\n\tconst UNITS = options.bits\n\t\t? (options.binary ? BIBIT_UNITS : BIT_UNITS)\n\t\t: (options.binary ? BIBYTE_UNITS : BYTE_UNITS);\n\n\tconst separator = options.space ? ' ' : '';\n\n\tif (options.signed && number === 0) {\n\t\treturn ` 0${separator}${UNITS[0]}`;\n\t}\n\n\tconst isNegative = number < 0;\n\tconst prefix = isNegative ? '-' : (options.signed ? '+' : '');\n\n\tif (isNegative) {\n\t\tnumber = -number;\n\t}\n\n\tlet localeOptions;\n\n\tif (options.minimumFractionDigits !== undefined) {\n\t\tlocaleOptions = {minimumFractionDigits: options.minimumFractionDigits};\n\t}\n\n\tif (options.maximumFractionDigits !== undefined) {\n\t\tlocaleOptions = {maximumFractionDigits: options.maximumFractionDigits, ...localeOptions};\n\t}\n\n\tif (number < 1) {\n\t\tconst numberString = toLocaleString(number, options.locale, localeOptions);\n\t\treturn prefix + numberString + separator + UNITS[0];\n\t}\n\n\tconst exponent = Math.min(Math.floor(options.binary ? Math.log(number) / Math.log(1024) : Math.log10(number) / 3), UNITS.length - 1);\n\tnumber /= (options.binary ? 1024 : 1000) ** exponent;\n\n\tif (!localeOptions) {\n\t\tnumber = number.toPrecision(3);\n\t}\n\n\tconst numberString = toLocaleString(Number(number), options.locale, localeOptions);\n\n\tconst unit = UNITS[exponent];\n\n\treturn prefix + numberString + separator + unit;\n}\n","/**\n * Copyright (c) 2024 Anthony Mugendi\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { titleCase } from '../lib/utils/general';\nimport prettyBytes from 'pretty-bytes';\nimport css from '../styles/plugins/details.css';\n\nexport default class Plugin {\n  constructor(ctx) {\n    // inherit Scriptin (this.Scriptin) context which we will need\n    Object.assign(this, ctx);\n\n    this.dependencies = ['__styler', 'AutoResource'];\n    this.pluginOptions = this.options?.plugins?.Details || {};\n\n  }\n\n  init() {\n    // Inject styles\n    this.Scriptin.injectStyles && this.Scriptin.injectStyles(css);\n\n    // addDetails\n    this.addDetails();\n  }\n\n  makeFilter() {\n    var filter = this.pluginOptions.filter || null;\n\n    // must be an array\n    if (Array.isArray(filter) === false) {\n      filter = null;\n    }\n\n    if (filter) {\n      for (var i in filter) {\n        let arr = filter[i].split('.');\n        if (arr.length == 1) {\n          arr.push(arr[0] + '.*');\n        }\n        arr.forEach((v) => {\n          if (filter.indexOf(v) == -1) {\n            filter.push(v);\n          }\n        });\n      }\n    }\n\n    if (filter?.length == 0) {\n      filter = null;\n    }\n\n    return filter;\n  }\n\n  addDetails() {\n    var filter = this.makeFilter();\n    var showHeaders = this.pluginOptions.showHeaders;\n\n    if (showHeaders == undefined) {\n      showHeaders = true;\n    }\n\n\n    // Listen for load event\n    this.Scriptin.events.on(\n      'loaded',\n      function (script) {\n        // log\n        if (script.returnType == 'dataURI') {\n          var el = document.querySelector(\n            '[data-scriptin=\"' + script.url + '\"]'\n          );\n\n          if (!el) return;\n\n          var containerEl = document.createElement('div');\n          containerEl.setAttribute('class', 'scriptin-details');\n\n          var details = {\n            meta: {\n              type: script.content.type,\n              category: script.content.category,\n              size: script.meta.size,\n            },\n            cache: {\n              isHot: script.meta.cache.status == 'âœ“',\n            },\n            file: {\n              url: script.url,\n              name: script.url.split('/').pop(),\n            },\n          };\n\n          for (var i in details) {\n            var key = i;\n\n            if (filter?.indexOf(key) == -1) continue;\n\n            var groupEl = document.createElement('div');\n\n            groupEl.setAttribute('class', 'scriptin-details-group');\n\n            var html = '';\n\n            if (showHeaders) {\n              html =\n                html +\n                '<h4 class=\"scriptin-details-category\">' +\n                titleCase(i) +\n                '</h4>';\n            }\n\n            html = html + '<ul>';\n\n            for (var j in details[i]) {\n              var key = i + '.' + j;\n\n              if (filter?.indexOf(key) == -1 && filter?.indexOf(i + '.*') == -1)\n                continue;\n\n              if (key == 'meta.size') {\n                details[i][j] = prettyBytes(details[i][j]);\n              }\n\n              html =\n                html +\n                '<li>' +\n                '<strong>' +\n                titleCase(j) +\n                ': </strong> ' +\n                '<span>' +\n                details[i][j] +\n                '</span>' +\n                '</li>';\n            }\n\n            html = html + '</ul>';\n\n            groupEl.innerHTML = html;\n            containerEl.appendChild(groupEl);\n          }\n\n          \n          //   console.log(JSON.stringify(details, 0, 4));\n          el.after(containerEl);\n        }\n      },\n      {}\n    );\n  }\n}\n"],"names":["titleCase","str","toLowerCase","split","i","length","charAt","toUpperCase","slice","join","Plugin","constructor","ctx","_this$options","Object","assign","dependencies","pluginOptions","options","plugins","Details","init","Scriptin","injectStyles","css","addDetails","makeFilter","_filter","filter","Array","isArray","arr","push","forEach","v","indexOf","showHeaders","undefined","events","on","script","returnType","el","document","querySelector","url","containerEl","createElement","setAttribute","details","meta","type","content","category","size","cache","isHot","status","file","name","pop","key","groupEl","html","j","prettyBytes","innerHTML","appendChild","after"],"mappings":"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","x_google_ignoreList":[1]}